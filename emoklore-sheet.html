<div class='sheet-container'>
    <div class='sheet-header'> 
		<img name="attr_character_avatar" class="img-char-avatar" >
		<h1 class="heading-title">  Emo-klore TRPG - [Resonator] Sheet </h1>
	</div>
	<div class="sheet-tabs">
		<div class="sheet-tab sheet-tab-basic">
			<input type="radio" name="attr_tab" value="basic" checked="checked">
			<span class="sheet-tab-label">Basic Info </span>
			<div class="sheet-tab-content">
				<div class="sheet-content">
					<div class="fieldset-legend" >Basic Info/基本情報</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Name/名前:</label> 
						<input class="sheet-input" type="text" name="attr_character_name" >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Age/年齢:</label>
						<input class="sheet-input" type="text" name="attr_age"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Gender/性別:</label>
						<input type="text" class='sheet-input' name="attr_gender"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Hometown/出身:</label>
						<input type="text" class='sheet-input' name="attr_hometown"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Occupation/職業:</label>
						<input type="text" class='sheet-input' name="attr_occupation"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Personality/性格:</label>
						<input type="text" class='sheet-input' name="attr_personality"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Appearance/概観的特徴:</label>
						<input type="text" class='sheet-input' name="attr_appearance"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Notable Past Events/経歴:</label>
						<input type="text" class='sheet-input' name="attr_notable-past-events"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Related People/関係のある人々:</label>
						<input type="text" class='sheet-input' name="attr_related-people"  >
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Likes and Dislikes/好きなもの・嫌いなもの:</label>
						<input type="text" class='sheet-input' name="attr_likes-dislikes"  >
					</div>
					<!-- Skipping タグ for now. Reason: no clear use case in Roll20. -->
					<div class="chardata-row">
						<label class='sheet-row-label' >Memo/メモ:</label>
						<textarea  class='sheet-input sheet-input-textarea' name="attr_memo" ></textarea>
					</div>
					<div class="fieldset-legend" > Resonance Info/共鳴情報 </div>
					<div class="chardata-row">
					<label class='sheet-row-label' >Front/表:</label>
					<select class="sheet-input" name="attr_resonance-front" >
						<option value='select-please'> Please Select/選択してください </option> 
						<optgroup label="Desire/欲望"> 
							<option>  Acknowledgement (Desire) / 自己顕示【欲望】</option> 
							<option>Posession (Desire) / 所有【欲望】 </option> 
							<option>Instinct (Desire) / 本能【欲望】 </option> 
							<option>Destruction (Desire) / 破壊【欲望】 </option> 
							<option>Pride (Desire) / 優越感【欲望】 </option> 
							<option>Laziness (Desire) / 怠惰【欲望】 </option> 
							<option>Escape (Desire) / 逃避【欲望】 </option> 
							<option>Curiosity (Desire) / 好奇心【欲望】 </option> 
							<option>Thrill (Desire) / スリル【欲望】 </option> 
						</optgroup> 
						<optgroup label="Passion/情念"> 
							<option> Joy (Passion) / 喜び【情念】 </option> 
							<option> Anger (Passion) / 怒り【情念】 </option>
							<option> Sadness (Passion) / 悲しみ【情念】 </option>
							<option> Happiness (Passion) / 幸福【情念】 </option>
							<option> Anxiety (Passion) / 不安【情念】 </option>
							<option> Disgust (Passion) / 嫌悪【情念】 </option>
							<option> Fear (Passion) / 恐怖【情念】 </option>
							<option> Grudge (Passion) / 恨み【情念】 </option>
							<option> Envy (Passion) / 嫉妬【情念】 </option>
						</optgroup> 
						<optgroup label="Ideals/理想"> 
							<option> Justice (Ideals) / 正義【理想】 </option> 
							<option> Worship (Ideals) / 崇拝【理想】 </option>
							<option> Good and Evil (Ideals) / 善悪【理想】 </option>
							<option> Hope (Ideals) / 希望【理想】 </option>
							<option> Improvement (Ideals) / 向上【理想】 </option>
							<option> Reason (Ideals) / 理性【理想】 </option>
							<option> Glory (Ideals) / 勝利【理想】 </option>
							<option> Order (Ideals) / 秩序【理想】 </option>
							<option> Admiration (Ideals) / 憧憬【理想】 </option>
							<option> Selflessness (Ideals) / 無我【理想】 </option>
						</optgroup> 
						<optgroup label="Relationship/関係">
							<option> Friendship (Relationship) / 友情【関係】 </option>
							<option> Love (Relationship) / 愛【関係】 </option>
							<option> Admiration (Relationship) / 恋【関係】 </option>
							<option> Dependence (Relationship) / 依存【関係】 </option>
							<option> Respect (Relationship) / 尊敬【関係】 </option>
							<option> Contempt (Relationship) / 軽蔑【関係】 </option>
							<option> Asylum (Relationship) / 庇護【関係】 </option>
							<option> Domination (Relationship) / 支配【関係】 </option>
							<option> Service (Relationship) / 奉仕【関係】 </option>
							<option> Spoiling (Relationship) / 甘え【関係】 </option>
						</optgroup>
						<optgroup label="Scar/傷">
							<option> Regret (Scar) / 後悔【傷】 </option>
							<option> Loneliness (Scar) / 孤独【傷】 </option>
							<option> Resignation (Scar) / 諦観【傷】</option> 
							<option> Despair (Scar) / 絶望【傷】 </option>
							<option> Denial (Scar) / 否定【傷】 </option>
							<option> Doubt (Scar) / 疑念【傷】 </option>
							<option> Guilt (Scar) / 罪悪感【傷】 </option>
							<option> Insanity (Scar) / 狂気【傷】 </option>
							<option> Inferiority Complex (Scar) / 劣等感【傷】 </option>
						</optgroup>
					</select>
					</div>

					<div class="chardata-row">
					<label class='sheet-row-label' >Back/裏:</label>
					<select class="sheet-input" name="attr_resonance-back" >
						<option value='select-please'> Please Select/選択してください </option> 
						<optgroup label="Desire/欲望"> 
							<option>  Acknowledgement (Desire) / 自己顕示【欲望】</option> 
							<option>Posession (Desire) / 所有【欲望】 </option> 
							<option>Instinct (Desire) / 本能【欲望】 </option> 
							<option>Destruction (Desire) / 破壊【欲望】 </option> 
							<option>Pride (Desire) / 優越感【欲望】 </option> 
							<option>Laziness (Desire) / 怠惰【欲望】 </option> 
							<option>Escape (Desire) / 逃避【欲望】 </option> 
							<option>Curiosity (Desire) / 好奇心【欲望】 </option> 
							<option>Thrill (Desire) / スリル【欲望】 </option> 
						</optgroup> 
						<optgroup label="Passion/情念"> 
							<option> Joy (Passion) / 喜び【情念】 </option> 
							<option> Anger (Passion) / 怒り【情念】 </option>
							<option> Sadness (Passion) / 悲しみ【情念】 </option>
							<option> Happiness (Passion) / 幸福【情念】 </option>
							<option> Anxiety (Passion) / 不安【情念】 </option>
							<option> Disgust (Passion) / 嫌悪【情念】 </option>
							<option> Fear (Passion) / 恐怖【情念】 </option>
							<option> Grudge (Passion) / 恨み【情念】 </option>
							<option> Envy (Passion) / 嫉妬【情念】 </option>
						</optgroup> 
						<optgroup label="Ideals/理想"> 
							<option> Justice (Ideals) / 正義【理想】 </option> 
							<option> Worship (Ideals) / 崇拝【理想】 </option>
							<option> Good and Evil (Ideals) / 善悪【理想】 </option>
							<option> Hope (Ideals) / 希望【理想】 </option>
							<option> Improvement (Ideals) / 向上【理想】 </option>
							<option> Reason (Ideals) / 理性【理想】 </option>
							<option> Glory (Ideals) / 勝利【理想】 </option>
							<option> Order (Ideals) / 秩序【理想】 </option>
							<option> Admiration (Ideals) / 憧憬【理想】 </option>
							<option> Selflessness (Ideals) / 無我【理想】 </option>
						</optgroup> 
						<optgroup label="Relationship/関係">
							<option> Friendship (Relationship) / 友情【関係】 </option>
							<option> Love (Relationship) / 愛【関係】 </option>
							<option> Admiration (Relationship) / 恋【関係】 </option>
							<option> Dependence (Relationship) / 依存【関係】 </option>
							<option> Respect (Relationship) / 尊敬【関係】 </option>
							<option> Contempt (Relationship) / 軽蔑【関係】 </option>
							<option> Asylum (Relationship) / 庇護【関係】 </option>
							<option> Domination (Relationship) / 支配【関係】 </option>
							<option> Service (Relationship) / 奉仕【関係】 </option>
							<option> Spoiling (Relationship) / 甘え【関係】 </option>
						</optgroup>
						<optgroup label="Scar/傷">
							<option> Regret (Scar) / 後悔【傷】 </option>
							<option> Loneliness (Scar) / 孤独【傷】 </option>
							<option> Resignation (Scar) / 諦観【傷】</option> 
							<option> Despair (Scar) / 絶望【傷】 </option>
							<option> Denial (Scar) / 否定【傷】 </option>
							<option> Doubt (Scar) / 疑念【傷】 </option>
							<option> Guilt (Scar) / 罪悪感【傷】 </option>
							<option> Insanity (Scar) / 狂気【傷】 </option>
							<option> Inferiority Complex (Scar) / 劣等感【傷】 </option>
						</optgroup>
					</select>
					</div>

					<div class="chardata-row">
					<label class='sheet-row-label' >Roots/ルーツ:</label>
					<select class="sheet-input" name="attr_resonance-roots" >
						<option value='select-please'> Please Select/選択してください </option> 
						<optgroup label="Desire/欲望"> 
							<option>  Acknowledgement (Desire) / 自己顕示【欲望】</option> 
							<option>Posession (Desire) / 所有【欲望】 </option> 
							<option>Instinct (Desire) / 本能【欲望】 </option> 
							<option>Destruction (Desire) / 破壊【欲望】 </option> 
							<option>Pride (Desire) / 優越感【欲望】 </option> 
							<option>Laziness (Desire) / 怠惰【欲望】 </option> 
							<option>Escape (Desire) / 逃避【欲望】 </option> 
							<option>Curiosity (Desire) / 好奇心【欲望】 </option> 
							<option>Thrill (Desire) / スリル【欲望】 </option> 
						</optgroup> 
						<optgroup label="Passion/情念"> 
							<option> Joy (Passion) / 喜び【情念】 </option> 
							<option> Anger (Passion) / 怒り【情念】 </option>
							<option> Sadness (Passion) / 悲しみ【情念】 </option>
							<option> Happiness (Passion) / 幸福【情念】 </option>
							<option> Anxiety (Passion) / 不安【情念】 </option>
							<option> Disgust (Passion) / 嫌悪【情念】 </option>
							<option> Fear (Passion) / 恐怖【情念】 </option>
							<option> Grudge (Passion) / 恨み【情念】 </option>
							<option> Envy (Passion) / 嫉妬【情念】 </option>
						</optgroup> 
						<optgroup label="Ideals/理想"> 
							<option> Justice (Ideals) / 正義【理想】 </option> 
							<option> Worship (Ideals) / 崇拝【理想】 </option>
							<option> Good and Evil (Ideals) / 善悪【理想】 </option>
							<option> Hope (Ideals) / 希望【理想】 </option>
							<option> Improvement (Ideals) / 向上【理想】 </option>
							<option> Reason (Ideals) / 理性【理想】 </option>
							<option> Glory (Ideals) / 勝利【理想】 </option>
							<option> Order (Ideals) / 秩序【理想】 </option>
							<option> Admiration (Ideals) / 憧憬【理想】 </option>
							<option> Selflessness (Ideals) / 無我【理想】 </option>
						</optgroup> 
						<optgroup label="Relationship/関係">
							<option> Friendship (Relationship) / 友情【関係】 </option>
							<option> Love (Relationship) / 愛【関係】 </option>
							<option> Admiration (Relationship) / 恋【関係】 </option>
							<option> Dependence (Relationship) / 依存【関係】 </option>
							<option> Respect (Relationship) / 尊敬【関係】 </option>
							<option> Contempt (Relationship) / 軽蔑【関係】 </option>
							<option> Asylum (Relationship) / 庇護【関係】 </option>
							<option> Domination (Relationship) / 支配【関係】 </option>
							<option> Service (Relationship) / 奉仕【関係】 </option>
							<option> Spoiling (Relationship) / 甘え【関係】 </option>
						</optgroup>
						<optgroup label="Scar/傷">
							<option> Regret (Scar) / 後悔【傷】 </option>
							<option> Loneliness (Scar) / 孤独【傷】 </option>
							<option> Resignation (Scar) / 諦観【傷】</option> 
							<option> Despair (Scar) / 絶望【傷】 </option>
							<option> Denial (Scar) / 否定【傷】 </option>
							<option> Doubt (Scar) / 疑念【傷】 </option>
							<option> Guilt (Scar) / 罪悪感【傷】 </option>
							<option> Insanity (Scar) / 狂気【傷】 </option>
							<option> Inferiority Complex (Scar) / 劣等感【傷】 </option>
						</optgroup>
					</select>
					</div>
					<div class="fieldset-legend"> Reverberations Records/残響の記録 </div>
					<fieldset class="repeating_reverbrecords">
						<div class="sheet-repitem">
							<span class="reverb-row-item"> Scenario Name/シナリオ名: </label>
							<input class="reverb-row-item" type="text" name="attr_scenario-name" >
							<span class="reverb-row-item"> Emotions/感情: </label>
							<input class="reverb-row-item" type="text" name="attr_emotions" >
						</div>
					</fieldset>
				</div>
			</div> <!-- sheet-content-->
		</div> <!-- sheet-tab-basic -->
		<div class="sheet-tab sheet-tab-abilities">
			<input type="radio" name="attr_tab" value="abilities">
			<span class="sheet-tab-label">Abilities </span>
    		<div class="sheet-tab-content">
    		    <div class="sheet-content">
					<div class="fieldset-legend" > Ability Scores/能力値 </div>
					<div class="fieldset-info" >
						<label class='sheet-row-label' >Point Adjustment/技能補正:</label>
						<input name="attr_ability-add-point" class="sheet-input-number" type="number" value="0"> 
					</div>
					<div class="fieldset-info make-sticky" >
						<label class="sheet-row-label"> Ability Points/能力ポイント: </span> 
						<span class="point-left-indicator" name="attr_ability-point-left"  ></span>
						<input type="hidden" name="attr_ability-point-left" value="25"> 
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Fitness/身体:</label>
						<select class='sheet-input' name="attr_ability-shintai" >
							<option value="0" > 0 </option>
							<option value="1" > 1 </option>
							<option value="2" > 2 </option>
							<option value="3" > 3 </option>
							<option value="4" > 4 </option>
							<option value="5" > 5 </option>
							<option value="6" > 6 </option> 
						</select>
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Dexterity/器用:</label> 
						<select class='sheet-input' name="attr_ability-kiyou" >
							<option value="0" > 0 </option>
							<option value="1" > 1 </option>
							<option value="2" > 2 </option>
							<option value="3" > 3 </option>
							<option value="4" > 4 </option>
							<option value="5" > 5 </option>
							<option value="6" > 6 </option> 
						</select>
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Spirit/精神:</label> 
						<select  class='sheet-input' name="attr_ability-seishin" >
							<option> 0 </option>
							<option> 1 </option>
							<option> 2 </option>
							<option> 3 </option>
							<option> 4 </option>
							<option> 5 </option>
							<option> 6 </option>
					  </select>
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Senses/五感:</label> 
						<select  class='sheet-input' name="attr_ability-gokan" >
							<option> 0 </option>
							<option> 1 </option>
							<option> 2 </option>
							<option> 3 </option>
							<option> 4 </option>
							<option> 5 </option>
							<option> 6 </option>
					  </select>
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Intelligence/知力:</label> 
						<select  class='sheet-input' name="attr_ability-chiryoku" >
							<option> 0 </option>
							<option> 1 </option>
							<option> 2 </option>
							<option> 3 </option>
							<option> 4 </option>
							<option> 5 </option>
							<option> 6 </option>
					  </select>
					</div>
					<div class="chardata-row"> 
						<label class='sheet-row-label' >Charisma/魅力:</label> 
						<select  class='sheet-input' name="attr_ability-miryoku" >
							<option> 0 </option>
							<option> 1 </option>
							<option> 2 </option>
							<option> 3 </option>
							<option> 4 </option>
							<option> 5 </option>
							<option> 6 </option>
					  </select>
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Social Standing/社会:</label>
						<select  class='sheet-input' name="attr_ability-shakai" >
							<option> 0 </option>
							<option> 1 </option>
							<option> 2 </option>
							<option> 3 </option>
							<option> 4 </option>
							<option> 5 </option>
							<option> 6 </option>
						</select>
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >Luck/運勢:</label>
						<input type="number" min="1" max="6" class='sheet-input' name="attr_ability-unsei" >
						<button type="action" name="act_roll-unsei"> Roll </button>
					</div>
					<div class="fieldset-legend" > Parameter/パラメータ </div>
					<div class="chardata-row">
						<label class='sheet-row-label' >HP:</label>
						<input type="number" class="sheet-input-number" name="attr_hp">
						<span> / </span>
						<input type="hidden" name="attr_hp_max" value="10" >
						<span  class='sheet-input-number' name="attr_hp_max" ></span>
						<!-- value="(@{ability-shintai}+10)"--> 
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' >MP:</label>
						<input type="number" class="sheet-input-number"  name="attr_mp">
						<span> / </span>
						<input type="hidden" name="attr_mp_max" >
						<span  class='sheet-input-number' name="attr_mp_max" ></span>
						<!-- value="(@{ability-seishin}+@{ability-chiryoku})" -->
					</div>
    		    </div>
    		</div>
    	</div>
		<div class="sheet-tab sheet-tab-skills">
			<input type="radio" name="attr_tab" value="skills">
			<span class="sheet-tab-label">Skills</span>
    		<div class="sheet-tab-content">
    		    <div class="sheet-content">
					<div class="fieldset-legend" > Skills/技能 </div>
					<div class="fieldset-info" >
						<label class='sheet-row-label' >Point Adjustment/技能補正:</label>
						<input class="sheet-input-number" type="number" name="attr_skill-add-point"> 
					</div>
					<div class="fieldset-info make-sticky " >
						<label class="sheet-row-label"> Skill Point/技能ポイント: </span> 
						<input type="hidden" name="attr_skill-point-left" value="30" >
						<!-- value=30+Additionals  -->
						<span class="point-left-indicator" name="attr_skill-point-left"></span>
					</div>
					<div class="chardata-row row-header">
						<label class="sheet-row-label" > Skill Name/技能名</label>
						<label class="sheet-row-label" > Level/レベル</label>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' >∞Resonance/∞共鳴:</label>
					  <span class="sheet-row-label">
						  <select name="attr_level-kyoumei"> 
							  <option> 1 </option>
							  <option> 2 </option>
							  <option> 3 </option>
							  <option> 4 </option>
							  <option> 5 </option>
							  <option> 6 </option>
							  <option> 7 </option>
							  <option> 8 </option>
							  <option> 9 </option>
						  </select>
					  </span>
					  <span class="sheet-row-label"> </span> 
					  <button class="sheet-rollbtn" type="act_kyoumei" value="@{rollstr-kyoumei}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kyoumei" value=>

					</div>
					<br>

					<div class="chardata-row row row-header">
						<label class="sheet-row-label" > Skill Name/技能名</label>
						<label class="sheet-row-label" > Level/レベル</label>
						<label class="sheet-row-label" > Judgement Value/判定値</label>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' >*Investigation/*調査:</label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input name="attr_level-chousa" class="radio-numbered" type="hidden" value="1" checked> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-kiyou" name="attr_level-chousa-abiref" >
						  <select disabled class='sheet-input' >
							  <option  > Dexterity/器用 </option>
						  </select>
						  <input type="hidden" name="attr_judge-chousa" value="1" >
						  <span class="skill-result" name="attr_judge-chousa" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_chousa" value="@{rollstr-chousa}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-chousa" value=>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Search/検索:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kensaku"  type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kensaku"  type="radio" value="1"> 1</input>
						  <input name="attr_level-kensaku"  type="radio" value="2"> 2</input>
						  <input name="attr_level-kensaku"  type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-kensaku-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kensaku" value="0" >
						  <span class="skill-result" name="attr_judge-kensaku" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_kensaku" value="@{rollstr-kensaku}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kensaku" value=>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Analysis/洞察:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-dousatsu" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-dousatsu" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-dousatsu" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-dousatsu" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-dousatsu-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-dousatsu" value="0" >
						  <span class="skill-result" name="attr_judge-dousatsu" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_dousatsu" value="@{rollstr-dousatsu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-dousatsu" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Mapping/マッピング:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-mapping" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-mapping" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-mapping" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-mapping" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-mapping-abiref" >
							  <option value="ability-kiyou" > Dexterity/器用 </option>
							  <option value="ability-gokan" > Senses/五感 </option>
						  </select>
						  <input type="hidden" name="attr_judge-mapping" value="0" >
						  <span class="skill-result" name="attr_judge-mapping" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_mapping" value="@{rollstr-mapping}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-mapping" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Intuition/直感:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-chokkan" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-chokkan" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-chokkan" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-chokkan" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-chokkan-abiref" >
							  <option value="ability-seishin" > Spirit/精神 </option>
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-chokkan" value="0" >
						  <span class="skill-result" name="attr_judge-chokkan" > </span>
					  </span>
					  <button class="sheet-rollbtn" type="act_chokkan" value="@{rollstr-chokkan}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-chokkan" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Appraisal/鑑定:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kantei" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kantei" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-kantei" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-kantei" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-kantei-abiref" >
							  <option value="ability-gokan" > Senses/五感 </option>
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kantei" value="0" >
						  <span class="skill-result" name="attr_judge-kantei" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_kantei" value="@{rollstr-kantei}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kantei" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >*Perception/*知覚:</label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-chikaku" class="radio-numbered" type="hidden" value="1"> 
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-gokan" name="attr_level-chikaku-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-gokan" > Senses/五感 </option>
						  </select>
						  <input type="hidden" name="attr_judge-chikaku" value="1" >
						  <span class="skill-result" name="attr_judge-chikaku" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_chikaku" value="@{rollstr-chikaku}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-chikaku" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Observant Eye/観察眼:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kansatsugan" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kansatsugan" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-kansatsugan" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-kansatsugan" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-gokan" name="attr_level-kansatsugan-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-gokan" > Senses/五感 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kansatsugan" value="0" >
						  <span class="skill-result" name="attr_judge-kansatsugan" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_kansatsugan" value="@{rollstr-kansatsugan}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kansatsugan" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Keen Ear/聞き耳:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kikime" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kikime" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-kikime" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-kikime" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-gokan" name="attr_level-kikime-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-gokan" > Senses/五感 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kikime" value="0" >
						  <span class="skill-result" name="attr_judge-kikime" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_kikime" value="@{rollstr-kikime}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kikime" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Detect Poison/毒見:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-dokumi" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-dokumi" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-dokumi" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-dokumi" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-gokan" name="attr_level-dokumi-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-gokan" > Senses/五感 </option>
						  </select>
						  <input type="hidden" name="attr_judge-dokumi" value="0" >
						  <span class="skill-result" name="attr_judge-dokumi" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_dokumi" value="@{rollstr-dokumi}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-dokumi" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Crisis Detection/危機感知:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kikikanchi" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kikikanchi" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-kikikanchi" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-kikikanchi" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-kikikanchi-abiref" >
							  <option value="ability-gokan" > Senses/五感 </option>
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kikikanchi" value="0" >
						  <span class="skill-result" name="attr_judge-kikikanchi" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_kikikanchi" value="@{rollstr-kikikanchi}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kikikanchi" value=>
					  </select>
					</div>

					<div class="chardata-row">
						<label class='sheet-row-label' ><span class="sheet-star">★</span>Sixth Sense<span class="sheet-star">★</span>霊感:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-reikan" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-reikan" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-reikan" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-reikan" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-reikan-abiref" >
							  <option value="ability-seishin" > Spirit/精神 </option>
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-reikan" value="0" >
						  <span class="skill-result" name="attr_judge-reikan" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_reikan" value="@{rollstr-reikan}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-reikan" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >*Negotiation/*交渉:</label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-koushou" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-miryoku" name="attr_level-koushou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-miryoku" > Charisma/魅力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-koushou" value="1" >
						  <span class="skill-result" name="attr_judge-koushou" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_koshou" value="@{rollstr-koushou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-koushou" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Societal Arts/社交術:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-shakoujutsu" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-shakoujutsu" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-shakoujutsu" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-shakoujutsu" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shakai" name="attr_level-shakoujutsu-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shakai" > Social Standing/社会 </option>
						  </select>
						  <input type="hidden" name="attr_judge-shakoujutsu" value="0" >
						  <span class="skill-result" name="attr_judge-shakoujutsu" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_shakoujutsu" value="@{rollstr-shakoujutsu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-shakoujutsu" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Debate/ディベート:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-debate" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-debate" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-debate" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-debate" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-debate-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-debate" value="0" >
						  <span class="skill-result" name="attr_judge-debate" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_debate" value="@{rollstr-debate}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-debate" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Mentality/心理:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-shinri" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-shinri" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-shinri" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-shinri" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-shinri-abiref" >
							  <option value="ability-seishin" > Spirit/精神 </option>
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-shinri" value="0" >
						  <span class="skill-result" name="attr_judge-shinri" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_shinri" value="@{rollstr-shinri}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-shinri" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >Charm/魅了:</label>
					  <span class="sheet-row-label">
						  <input name="attr_level-miryou" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-miryou" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-miryou" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-miryou" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-miryoku" name="attr_level-miryou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-miryoku" > Charisma/魅力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-miryou" value="0" >
						  <span class="skill-result" name="attr_judge-miryou" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_miryou" value="@{rollstr-miryou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-miryou" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' >*Knowledge/*知識:</label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-chishiki" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-chishiki-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-chishiki" value="1" >
						  <span class="skill-result" name="attr_judge-chishiki" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_chishiki" value="@{rollstr-chishiki}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-chishiki" value=>
					  </select>
					</div> 
					<div class="repcontainer">
						<label class='sheet-row-label' > Expert Knowledge/専門知識:</label>
						<fieldset class="repeating_skill-senmonchishiki">
						<div class="chardata-row">
						  <span class="sheet-row-label">
							  <input name="attr_skillname-senmonchishiki" class="sheet-input" type="text" > 
						  </span>
						  <span class="sheet-row-label">
							  <input name="attr_level-senmonchishiki" class="radio-numbered" type="radio" value="0" checked> 0</input>
							  <input name="attr_level-senmonchishiki" class="radio-numbered" type="radio" value="1"> 1</input>
							  <input name="attr_level-senmonchishiki" class="radio-numbered" type="radio" value="2"> 2</input>
							  <input name="attr_level-senmonchishiki" class="radio-numbered" type="radio" value="3"> 3</input>
						  </span>
						  <span class="sheet-row-label">
							  <input type="hidden" value="ability-chiryoku" name="attr_level-senmonchishiki-abiref" >
							  <select disabled class='sheet-input' >
								  <option value="ability-chiryoku" > Intelligence/知力 </option>
							  </select>
							  <input type="hidden" name="attr_judge-senmonchishiki" value="0" >
							  <span class="skill-result" name="attr_judge-senmonchishiki" ></span>
						  </span>
						  <button class="sheet-rollbtn" type="act_senmonchishiki" value="@{rollstr-senmonchishiki}" > Roll </button>
						  <input type="hidden" name="attr_rollstr-senmonchishiki" value=>
						  </select>
						</div>
						</fieldset>
					</div>


					<div class="chardata-row">
					  <label class='sheet-row-label' > *News/*ニュース: </label>
					  <span class="sheet-row-label">
						  <input disabled name="attr_level-news" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input checked name="attr_level-news" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input disabled name="attr_level-news" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input disabled name="attr_level-news" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shakai" name="attr_level-news-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shakai" > Social Standing/社会 </option>
						  </select>
						  <input type="hidden" name="attr_judge-news" value="1" >
						  <span class="skill-result" name="attr_judge-news" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_news" value="@{rollstr-news}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-news" value=>
					  </select>
					</div>

					<div class="chardata-row">
					  <label class='sheet-row-label' > Gossip/事情通 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-jijoutsuu" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-jijoutsuu" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-jijoutsuu" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-jijoutsuu" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-jijoutsuu-abiref" >
							  <option value="ability-gokan" > Senses/五感 </option>
							  <option value="ability-shakai" > Social Standing/社会 </option>
						  </select>
						  <input type="hidden" name="attr_judge-jijoutsuu" value="0" >
						  <span class="skill-result" name="attr_judge-jijoutsuu" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_jijoutsuu" value="@{rollstr-jijoutsuu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-jijoutsuu" value=>
					  </select>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > Industry/業界 </label>
						<fieldset class="repeating_skill-gyoukai">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-gyoukai" class="sheet-input" type="text" >
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-gyoukai" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-gyoukai" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-gyoukai" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-gyoukai" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <select class='sheet-input' name="attr_level-gyoukai-abiref" >
									  <option value="ability-miryoku" > Charisma/魅力 </option>
									  <option value="ability-shakai" > Social Standing/社会 </option>
								  </select>
								  <input type="hidden" name="attr_judge-gyoukai" value="0" >
								  <span class="skill-result" name="attr_judge-gyoukai" ></span>
							  </span>
							  <button class="sheet-rollbtn" type="act_gyokai" value="@{rollstr-gyoukai}" > Roll </button>
							  <input type="hidden" name="attr_rollstr-gyoukai" value=>
							  </select>
							</div>
						</fieldset>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Movement/*運動 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-undou" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-undou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-undou" value="1" >
						  <span class="skill-result" name="attr_judge-undou" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_undou" value="@{rollstr-undou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-undou" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Speed/スピード </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-speed" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-speed" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-speed" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-speed" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-speed-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-speed" value="0" >
						  <span class="skill-result" name="attr_judge-speed" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_speed" value="@{rollstr-speed}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-speed" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Strength/ストレングス </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-strength" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-strength" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-strength" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-strength" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-strength-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-strength" value="0" >
						  <span class="skill-result" name="attr_judge-strength" ></span>
					  </span>
					  <button class="sheet-rollbtn" type="act_strength" value="@{rollstr-strength}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-strength" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Acrobat/アクロバット </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-acrobat" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-acrobat" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-acrobat" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-acrobat" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-acrobat-abiref" >
							  <option value="ability-shintai" > Fitness/身体 </option>
							  <option value="ability-kiyou" > Dexterity/器用 </option>
						  </select>
						  <input type="hidden" name="attr_judge-acrobat" value="0" >
						  <span class="skill-result" name="attr_judge-acrobat" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_acrobat" value="@{rollstr-acrobat}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-acrobat" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Dive/ダイブ </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-dive" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-dive" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-dive" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-dive" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-dive-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-dive" value="0" >
						  <span class="skill-result" name="attr_judge-dive" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_dive" value="@{rollstr-dive}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-dive" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Fighting/*格闘 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-kakutou" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-kakutou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kakutou" value="1" >
						  <span class="skill-result" name="attr_judge-kakutou" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_kakutou" value="@{rollstr-kakutou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kakutou" value=>
					  </select>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > Martial Arts/武術 </label>
						<fieldset class="repeating_skill-bujutsu">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-bujutsu" class="sheet-input" type="text" >
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-bujutsu" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-bujutsu" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-bujutsu" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-bujutsu" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <input type="hidden" value="ability-shintai" name="attr_level-bujutsu-abiref" >
								  <select disabled class='sheet-input' >
									  <option value="ability-shintai" > Fitness/身体 </option>
								  </select>
								  <input type="hidden" name="attr_judge-bujutsu" value="0" >
								  <span class="skill-result" name="attr_judge-bujutsu" ></span>
							  </span>
							  <button class="sheet-rollbtn" type="act_bujutsu" value="@{rollstr-bujutsu}" > Roll </button>
							  <input type="hidden" name="attr_rollstr-bujutsu" value=>
							</div>
						</fieldset>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > <span class="sheet-star">★</span>Special Arts/<span class="sheet-star">★</span>奥義 </label>
						<fieldset class="repeating_skill-ougi">
						<div class="chardata-row">
							<span class="sheet-row-label">
								<input name="attr_skillname-ougi" class="sheet-input" type="text">
							</span> 
							<span class="sheet-row-label"> 
								<input name="attr_level-ougi" class="radio-numbered" type="radio" value="0" checked> 0</input> 
								<input name="attr_level-ougi" class="radio-numbered" type="radio" value="1"> 1</input> 
								<input name="attr_level-ougi" class="radio-numbered" type="radio" value="2"> 2</input> 
								<input name="attr_level-ougi" class="radio-numbered" type="radio" value="3"> 3</input> 
							</span> 
							<span class="sheet-row-label">
								<select class='sheet-input' name="attr_level-ougi-abiref" >
									<option value="ability-shintai" > Fitness/身体 </option>
									<option value="ability-kiyou" > Dexterity/器用 </option>
									<option value="ability-seishin" > Spirit/精神 </option>
								</select>
								<input type="hidden" name="attr_judge-ougi" value="0" >
								<span class="skill-result" name="attr_judge-ougi" ></span> 
							</span> 
							<button class="sheet-rollbtn" type="act_ougi" value="@{rollstr-ougi}" > Roll </button>
							<input type="hidden" name="attr_rollstr-ougi" value=>
						</div>
						</fieldset>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Throwing/*投擲 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-touteki" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-kiyou" name="attr_level-touteki-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-kiyou" > Dexterity/器用 </option>
						  </select>
						  <input type="hidden" name="attr_judge-touteki" value="1" >
						  <span class="skill-result" name="attr_judge-touteki" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_touteki" value="@{rollstr-touteki}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-touteki" value=>
					  </select>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > <span class="sheet-star">★</span>Shooting/<span class="sheet-star">★</span>射撃 </label>
						<fieldset class="repeating_skill-shageki">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-shageki" class="sheet-input" type="text">
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-shageki" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-shageki" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-shageki" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-shageki" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <select class='sheet-input' name="attr_level-shageki-abiref" >
									  <option value="ability-kiyou" > Dexterity/器用 </option>
									  <option value="ability-gokan" > Senses/五感 </option>
								  </select>
								  <input type="hidden" name="attr_judge-shageki" value="0" >
								  <span class="skill-result" name="attr_judge-shageki" ></span>
							  </span>
								  
							  <button class="sheet-rollbtn" type="act_shageki" value="@{rollstr-shageki}" > Roll </button>
							  <input type="hidden" name="attr_rollstr-shageki" value=>
							  </select>
							</div>
						</fieldset>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Survival/*生存 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-seizon" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-seizon-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-seizon" value="1" >
						  <span class="skill-result" name="attr_judge-seizon" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_seizon" value="@{rollstr-seizon}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-seizon" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Endurance/耐久 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-taikyuu" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-taikyuu" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-taikyuu" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-taikyuu" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-shintai" name="attr_level-taikyuu-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-shintai" > Fitness/身体 </option>
						  </select>
						  <input type="hidden" name="attr_judge-taikyuu" value="0" >
						  <span class="skill-result" name="attr_judge-taikyuu" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_taikyuu" value="@{rollstr-taikyuu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-taikyuu" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Ego/*自我 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-jiga" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-seishin" name="attr_level-jiga-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-seishin" > Spirit/精神 </option>
						  </select>
						  <input type="hidden" name="attr_judge-jiga" value="1" >
						  <span class="skill-result" name="attr_judge-jiga" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_jiga" value="@{rollstr-jiga}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-jiga" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Will/根性 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-konjou" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-konjou" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-konjou" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-konjou" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-seishin" name="attr_level-konjou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-seishin" > Spirit/精神 </option>
						  </select>
						  <input type="hidden" name="attr_judge-konjou" value="0" >
						  <span class="skill-result" name="attr_judge-konjou" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_konjou" value="@{rollstr-konjou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-konjou" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Treatment/*手当て </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-teate" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-teate-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-teate" value="1" >
						  <span class="skill-result" name="attr_judge-teate" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_ijutsu" value="@{rollstr-ijutsu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-ijutsu" value=>
					  </select>
					</div>
					<div class="chardata-row">
						<label class='sheet-row-label' > <span class="sheet-star">★</span>Resuscitation/<span class="sheet-star">★</span>蘇生 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-sosei" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-sosei" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-sosei" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-sosei" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-sosei-abiref" >
							  <option value="ability-seishin" > Spirit/精神 </option>
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-sosei" value="0" >
						  <span class="skill-result" name="attr_judge-sosei" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_sosei" value="@{rollstr-sosei}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-sosei" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Craft/*細工 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-saiku" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-kiyou" name="attr_level-saiku-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-kiyou" > Dexterity/器用 </option>
						  </select>
						  <input type="hidden" name="attr_judge-saiku" value="1" >
						  <span class="skill-result" name="attr_judge-saiku" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_saiku" value="@{rollstr-saiku}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-saiku" value=>
					  </select>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > Technique/技巧 </label>
						<fieldset class="repeating_skill-gikou">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-gikou" class="sheet-input" type="text" >
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-gikou" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-gikou" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-gikou" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-gikou" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <input type="hidden" value="ability-kiyou" name="attr_level-gikou-abiref" >
								  <select disabled class='sheet-input' >
									  <option value="ability-kiyou" > Dexterity/器用 </option>
								  </select>
								  <input type="hidden" name="attr_judge-gikou" value="0" >
								  <span class="skill-result" name="attr_judge-gikou" ></span>
							  </span>
					  <button class="sheet-rollbtn" type="act_gikou" value="@{rollstr-gikou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-gikou" value=>
							</div>
						</fieldset>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > Art/芸術 </label>
						<fieldset class="repeating_skill-geijutsu">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-geijutsu" class="sheet-input" type="text" >
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-geijutsu" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-geijutsu" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-geijutsu" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-geijutsu" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <select class='sheet-input' name="attr_level-geijutsu-abiref" >
									  <option value="ability-kiyou" > Dexterity/器用 </option>
									  <option value="ability-seishin" > Spirit/精神 </option>
									  <option value="ability-gokan" > Senses/五感 </option>
								  </select>
								  <input type="hidden" name="attr_judge-geijutsu" value="0" >
								  <span class="skill-result" name="attr_judge-geijutsu" ></span>
							  </span>
								  
					  <button class="sheet-rollbtn" type="act_geijutsu" value="@{rollstr-geijutsu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-geijutsu" value=>
							  </select>
							</div>
						</fieldset>
					</div>
					<div class="repcontainer">
						<label class='sheet-row-label' > Maneuvering/操縦 </label>
						<fieldset class="repeating_skill-soujuu">
							<div class="chardata-row">
							  <span class="sheet-row-label">
								  <input name="attr_skillname-soujuu" class="sheet-input" type="text" >
							  </span>
							  <span class="sheet-row-label">
								  <input name="attr_level-soujuu" class="radio-numbered" type="radio" value="0" checked> 0</input>
								  <input name="attr_level-soujuu" class="radio-numbered" type="radio" value="1"> 1</input>
								  <input name="attr_level-soujuu" class="radio-numbered" type="radio" value="2"> 2</input>
								  <input name="attr_level-soujuu" class="radio-numbered" type="radio" value="3"> 3</input>
							  </span>
							  <span class="sheet-row-label">
								  <select class='sheet-input' name="attr_level-soujuu-abiref" >
									  <option value="ability-kiyou" > Dexterity/器用 </option>
									  <option value="ability-gokan" > Senses/五感 </option>
									  <option value="ability-chiryoku" > Intelligence/知力 </option>
								  </select>
								  <input type="hidden" name="attr_judge-soujuu" value="0" >
								  <span class="skill-result" name="attr_judge-soujuu" ></span>
							  </span>
								  
					  <button class="sheet-rollbtn" type="act_soujuu" value="@{rollstr-soujuu}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-soujuu" value=>
							  </select>
							</div>
						</fieldset>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Cryptography/暗号 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-angou" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-angou" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-angou" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-angou" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-angou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-angou" value="0" >
						  <span class="skill-result" name="attr_judge-angou" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_angou" value="@{rollstr-angou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-angou" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Cyber/電脳 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-dennou" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-dennou" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-dennou" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-dennou" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-chiryoku" name="attr_level-dennou-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-chiryoku" > Intelligence/知力 </option>
						  </select>
						  <input type="hidden" name="attr_judge-dennou" value="0" >
						  <span class="skill-result" name="attr_judge-dennou" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_dennou" value="@{rollstr-dennou}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-dennou" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Concealment/隠匿 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-intoku" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-intoku" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-intoku" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-intoku" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <select class='sheet-input' name="attr_level-intoku-abiref" >
							  <option value="ability-kiyou" > Dexterity/器用 </option>
							  <option value="ability-shakai" > Social Standing/社会 </option>
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-intoku" value="0" >
						  <span class="skill-result" name="attr_judge-intoku" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_intoku" value="@{rollstr-intoku}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-intoku" value=>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > *Good Fortune/*幸運 </label>
					  <span class="sheet-row-label">
						  <span> Level 1 </span>
						  <input checked name="attr_level-kouun" class="radio-numbered" type="hidden" value="1"> </input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-unsei" name="attr_level-kouun-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kouun" value="1" >
						  <span class="skill-result" name="attr_judge-kouun" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_kouun" value="@{rollstr-kouun}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kouun" value=>
					  </select>
					</div>
					<div class="chardata-row">
					  <label class='sheet-row-label' > Greater Fortune/強運 </label>
					  <span class="sheet-row-label">
						  <input name="attr_level-kyouun" class="radio-numbered" type="radio" value="0" checked> 0</input>
						  <input name="attr_level-kyouun" class="radio-numbered" type="radio" value="1"> 1</input>
						  <input name="attr_level-kyouun" class="radio-numbered" type="radio" value="2"> 2</input>
						  <input name="attr_level-kyouun" class="radio-numbered" type="radio" value="3"> 3</input>
					  </span>
					  <span class="sheet-row-label">
						  <input type="hidden" value="ability-unsei" name="attr_level-kyouun-abiref" >
						  <select disabled class='sheet-input' >
							  <option value="ability-unsei" > Luck/運勢 </option>
						  </select>
						  <input type="hidden" name="attr_judge-kyouun" value="0" >
						  <span class="skill-result" name="attr_judge-kyouun" ></span>
					  </span>
						  
					  <button class="sheet-rollbtn" type="act_kyouun" value="@{rollstr-kyouun}" > Roll </button>
					  <input type="hidden" name="attr_rollstr-kyouun" value=>
					  </select>
					</div>

					<div class="repcontainer" > 
						<label class='sheet-row-label' > *Others/*その他 </label> 
						<fieldset class="repeating_skill-sonota">
							<div class="chardata-row">
								<span class="sheet-row-label"> 
									<input name="attr_skillname-sonota" class="sheet-input" type="text" >
								</span>
								<span class="sheet-row-label"> 
									<input name="attr_level-sonota" class="radio-numbered" type="radio" value="0" checked> 0</input> 
									<input name="attr_level-sonota" class="radio-numbered" type="radio" value="1"> 1</input> 
									<input name="attr_level-sonota" class="radio-numbered" type="radio" value="2"> 2</input> 
									<input name="attr_level-sonota" class="radio-numbered" type="radio" value="3"> 3</input> 
								</span>
								<span class="sheet-row-label">
									<select class='sheet-input' name="attr_level-sonota-abiref" >
										<option value="ability-shintai" > Fitness/身体 </option>
										<option value="ability-kiyou" > Dexterity/器用 </option>
										<option value="ability-seishin" > Spirit/精神 </option>
										<option value="ability-gokan" > Senses/五感 </option>
										<option value="ability-chiryoku" > Intelligence/知力 </option>
										<option value="ability-miryoku" > Charisma/魅力 </option>
										<option value="ability-shakai" > Social Standing/社会 </option>
										<option value="ability-unsei" > Luck/運勢 </option>
									</select>
									<input type="hidden" name="attr_judge-sonota" value="0" >
									<span class="skill-result" name="attr_judge-sonota" ></span>
								</span> 
								<button class="sheet-rollbtn" type="act_sonota" value="@{rollstr-sonota}" > Roll </button>
								<input type="hidden" name="attr_rollstr-sonota" value=>
							</div> 
						</fieldset>
					</div> <!-- repcontainer --->

    		    </div>
    		</div>
    	</div>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-emoklore">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle desc color}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle desc color}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<script type="text/worker">

/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS=TAS||function(){var v={debugMode:!1,logging:{log:!0,notice:!0,info:!0,warn:!0,error:!0,debug:!1}},y=[],w={},O=function(a){switch(typeof a){case "string":return"string";case "boolean":return"boolean";case "number":return _.isNaN(a)?"NaN":a.toString().match(/\./)?"decimal":"integer";case "function":return"function: "+(a.name?a.name+"()":"(anonymous)");case "object":return _.isArray(a)?"array":_.isArguments(a)?"arguments":_.isNull(a)?"null":"object";default:return typeof a}},P=function(a,c,e){_.each(e,
function(d){var g=O(d);switch(g){case "string":a(d);break;case "undefined":case "null":case "NaN":a("["+g+"]");break;case "number":case "not a number":case "integer":case "decimal":case "boolean":a("["+g+"]: "+d);break;default:a("["+g+"]:========================================="),c(d),a("=========================================================")}})},q=function(a){var c=a.key,e=a.title||"TAS",d=a.color&&a.color.bgLabel||"blue",g=a.color&&a.color.label||"white",m=a.color&&a.color.bgText||"blue",h=
a.color&&a.color.text||"white";var b=function(p){console.log("%c "+e+": %c "+p+" ","background-color: "+d+";color: "+g+"; font-weight:bold;","background-color: "+m+";color: "+h+";")};return function(){("TAS"===c||v.logging[c])&&P(b,function(p){console.log(p)},_.toArray(arguments))}},Q=q({key:"debug",title:"DEBUG",color:{bgLabel:"#7732A2",label:"#F2EF40",bgText:"#FFFEB7",text:"#7732A2"}}),R=q({key:"error",title:"Error",color:{bgLabel:"#C11713",label:"white",bgText:"#C11713",text:"white"}}),S=q({key:"warn",
title:"Warning",color:{bgLabel:"#F29140",label:"white",bgText:"#FFD8B7",text:"black"}}),T=q({key:"info",title:"Info",color:{bgLabel:"#413FA9",label:"white",bgText:"#B3B2EB",text:"black"}}),U=q({key:"notice",title:"Notice",color:{bgLabel:"#33C133",label:"white",bgText:"#ADF1AD",text:"black"}}),V=q({key:"log",title:"Log",color:{bgLabel:"#f2f240",label:"black",bgText:"#ffff90",text:"black"}}),A=q({key:"TAS",title:"TAS",color:{bgLabel:"grey",label:"black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)",
bgText:"grey",text:"black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)"}}),W=q({key:"TAS",title:"function",color:{bgLabel:"#413FA9",label:"white",bgText:"#B3B2EB",text:"black"}}),X=q({key:"TAS",title:"ASYNC CALL",color:{bgLabel:"#413FA9",label:"white",bgText:"#413FA9",text:"white"}}),Y=function(a,c){var e=_.findIndex(y,function(d){return _.difference(d.stack,a).length===_.difference(a,d.stack).length&&0===_.difference(d.stack,a).length&&d.label===c});-1===e&&(e=y.length,y.push({stack:a,
label:c}));return e},E=function(){return _.map(_.rest(Error("dummy").stack.replace(/^[^(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")),function(a){return a.replace(/\s+.*$/,"")})},F=function(a){var c,e;_.find(a,function(d){if(c=d.match(/TAS_CALLSTACK_(\d+)/))return e=y[c[1]],X("===================="+(e.label?"> "+e.label+" <":"")+"===================="),F(e.stack),!0;W(d);return!1})};q=function(a,c,e){"function"===typeof a&&(e=c,c=a,a=
void 0);if(!v.debugMode)return function(g,m){return function(){g.apply(m||{},arguments)}}(c,e);var d=E();d.shift();return function(g,m,h,b){h=Y(h,b);return(new Function("cb","ctx","TASlog","return function TAS_CALLSTACK_"+h+"(){var start,end;TASlog('Entering: '+(cb.name||'(anonymous function)'));start=_.now();cb.apply(ctx||{},arguments);end=_.now();TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');};"))(g,m,A)}(c,e,d,a)};var B=function(a,c){return _.chain(a).reduce(function(e,
d){if("string"===typeof d)e.push(d);else if(_.isArray(a)||_.isArguments(a))e=B(d,e);return e},_.isArray(c)&&c||[]).uniq().value()},G=function(a,c,e,d){(function(){var g=_.contains(["S","F","I","D"],c)?"_"+c:c,m=d||c,h=e;_.each(["S","I","F"],function(b){_.has(a,b)||Object.defineProperty(a,b,{value:{},enumerable:!1,readonly:!0})});_.has(a,"D")||Object.defineProperty(a,"D",{value:_.reduce(_.range(10),function(b,p){Object.defineProperty(b,p,{value:{},enumerable:!0,readonly:!0});return b},{}),enumerable:!1,
readonly:!0});Object.defineProperty(a,g,{enumerable:!0,set:function(b){b!==h&&(h=b,w[m]=b)},get:function(){return h}});Object.defineProperty(a.S,g,{enumerable:!0,set:function(b){b=b.toString();b!==h&&(h=b,w[m]=b)},get:function(){return h.toString()}});Object.defineProperty(a.I,g,{enumerable:!0,set:function(b){b=parseInt(b,10)||0;b!==h&&(h=b,w[m]=b)},get:function(){return parseInt(h,10)||0}});Object.defineProperty(a.F,g,{enumerable:!0,set:function(b){b=parseFloat(b)||0;b!==h&&(h=b,w[m]=b)},get:function(){return parseFloat(h)||
0}});_.each(_.range(10),function(b){Object.defineProperty(a.D[b],g,{enumerable:!0,set:function(p){p=(parseFloat(p)||0).toFixed(b);p!==h&&(h=p,w[m]=p)},get:function(){return(parseFloat(h)||0).toFixed(b)}})})})()},N=function(a){return function(c){var e=[],d=[],g=[],m=[],h=function(){e=B(arguments,e);return this},b=function(){d=B(arguments,d);return this},p=function(k,n,l,u){g.push({type:"reduce",func:k&&_.isFunction(k)&&k||_.noop,memo:(_.isUndefined(n),n),"final":l&&_.isFunction(l)&&l||_.noop,context:u||
{}});return this},H=function(k,n,l){g.push({type:"map",func:k&&_.isFunction(k)&&k||_.noop,"final":n&&_.isFunction(n)&&n||_.noop,context:l||{}});return this},I=function(k,n,l){g.push({type:"each",func:k&&_.isFunction(k)&&k||_.noop,"final":n&&_.isFunction(n)&&n||_.noop,context:l||{}});return this},J=function(k,n){g.push({type:"tap","final":k&&_.isFunction(k)&&k||_.noop,context:n||{}});return this},z=function(k,n){m.push({callback:k&&_.isFunction(k)&&k||_.noop,context:n||{}});return this},D=function(k,
n){var l={},u={},C=[],K=[];z(k,n);getSectionIDs("repeating_"+c,function(Z){C=Z;K=_.reduce(C,function(x,f){return x.concat(_.map(d,function(t){return"repeating_"+c+"_"+f+"_"+t}))},[]);getAttrs(_.uniq(e.concat(K)),function(x){_.each(e,function(f){x.hasOwnProperty(f)&&G(u,f,x[f])});l=_.reduce(C,function(f,t){var r={};Object.defineProperty(r,"id",{value:t,writable:!1,enumerable:!1});_.each(d,function(L){var M="repeating_"+c+"_"+t+"_"+L;G(r,L,x[M],M)});f[t]=r;return f},{});_.each(g,function(f){switch(f.type){case "tap":_.bind(f["final"],
f.context,l,u)();break;case "each":_.each(l,function(r){_.bind(f.func,f.context,r,u,r.id,l)()});_.bind(f["final"],f.context,l,u)();break;case "map":var t=_.map(l,function(r){return _.bind(f.func,f.context,r,u,r.id,l)()});_.bind(f["final"],f.context,t,l,u)();break;case "reduce":t=f.memo,_.each(l,function(r){t=_.bind(f.func,f.context,t,r,u,r.id,l)()}),_.bind(f["final"],f.context,t,l,u)()}});setAttrs(w);w={};_.each(m,function(f){_.bind(f.callback,f.context)()})})})};return{attrs:h,attr:h,column:b,columns:b,
field:b,fields:b,reduce:p,inject:p,foldl:p,map:H,collect:H,each:I,forEach:I,tap:J,"do":J,after:z,last:z,done:z,execute:D,go:D,run:D}}(a)};console.log("%c\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8  The Aaron Sheet  v0.2.5  \u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022","background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;");console.log("%c\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8  Last update: "+
new Date(1504710542E3)+"  \u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022*\u00b4\u00a8`*\u2022.\u00b8\u00b8.\u2022","background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;");return{repeatingSimpleSum:function(a,c,e){N(a).attr(e).field(c).reduce(function(d,g){return d+g.F[c]},0,function(d,g,m){m.S[e]=d}).execute()},repeating:N,config:function(a){var c=_.defaults(a,v);c.logging=_.defaults(a&&a.logging||{},v.logging);v=c},callback:q,callstack:function(){if(v.debugMode){var a=
E();a.shift();A("==============================> CALLSTACK <==============================");F(a);A("=========================================================================")}},debugMode:function(){v.logging.debug=!0;v.debugMode=!0},isDebugMode:function(){return v.debugMode},_fn:q,debug:Q,error:R,warn:S,info:T,notice:U,log:V}}();

/* ---- END: TheAaronSheet.js ---- */


/* ----- START: Emo-klore custom sheet worker by testermelon ------ */


const lgDebug = true;

//List of abilities attr names 
const listAttrsAbilities = [
	"ability-shintai", 
	"ability-kiyou", 
	"ability-seishin", 
	"ability-gokan", 
	"ability-chiryoku", 
	"ability-miryoku", 
	"ability-shakai", 
	"ability-unsei", 
];

//list of all skills that is not in repeating
const listNonrepSkills = [
	"chousa", 		"kensaku", 		"dousatsu",		"mapping", 		"chokkan", 
	"kantei", 		"chikaku", 		"kansatsugan", 	"kikime", 
	"dokumi", 		"kikikanchi", 	"reikan", 		"koushou", 
	"shakoujutsu", 	"debate", 		"shinri", 		"miryou", 
	"chishiki", 	"news", 		"jijoutsuu", 	"undou", 
	"speed", 		"strength", 	"acrobat", 		"dive", 
	"kakutou", 		"touteki", 		"seizon", 		"taikyuu",
	"jiga", 		"konjou", 		"teate", 		"ijutsu", 
	"sosei", 		"saiku", 		"angou", 		"dennou", 
	"intoku", 		"kouun", 		"kyouun",		
];

//list of all skills in repeating
const listRepeatingSkills = [
	"senmonchishiki", 
	"gyoukai", 
	"bujutsu", 
	"ougi", 
	"shageki", 
	"gikou", 
	"geijutsu", 
	"soujuu", 
	"sonota", 
];

//generate atts names for skills 
const listAttrsLevel 	= listNonrepSkills.map( skill => `level-${skill}`);
const listAttrsJudgeref	= listNonrepSkills.map( skill => `level-${skill}-abiref`); 


/* START OF HELPER FUNCTIONS DEFINITIONS */

/********************************
 * Shorten A = CONSTANT + B + C + D .... 
 * as get(B,C,D,...) => set A 
 * toSet : A 
 * konstanta : CONSTANT
 * getList is the rest: (sign, toGet) 
 ***********************************/
const  summingArgs = (toSet, konstanta,  ...getList) => {
	let toGet = [];
	let signs = [];
	for(let i=0; i<getList.length; i++) {
		signs.push(getList[2*i]);	
		toGet.push(getList[2*i+1]);	
	}
	getAttrs(toGet, values => {
		let sum = 0;
		for(let i=0; i<toGet.length; i++) {
			if(signs[i] == "-" ) 
				sum -= parseInt(values[toGet[i]]) ;
			if(signs[i] == "+" )
				sum += parseInt(values[toGet[i]]) ;
		}
		sum += konstanta;
		let obj = {};
		obj[toSet] = sum;
		setAttrs(obj);
	});
}

//CALCULATE ABILITY POINTS LEFT
//ability-point-left = abilityPoint(25) + abilityaddpoint - (all abilities except luck) 
const calcAbilityPointLeft = () => {
	const abilityPoint = 25;
	summingArgs( "ability-point-left", 
		abilityPoint, 
		"+", "ability-add-point", 
		"-", "ability-shintai", 
		"-", "ability-kiyou",
		"-", "ability-seishin" ,
		"-", "ability-gokan" ,
		"-", "ability-chiryoku" ,
		"-", "ability-miryoku" ,
		"-", "ability-shakai" ,
	);
};

//calculate skill cost 
const skillCost = (lvl, skill) => {

	//base skills cost 0 pt
	if(
	(	skill == 'chousa'	) ||
	(	skill == 'chikaku'	) ||
	(	skill == 'koushou'	) ||
	(	skill == 'chishiki'	) ||
	(	skill == 'news'		) ||
	(	skill == 'undou'	) ||
	(	skill == 'kakutou'	) ||
	(	skill == 'touteki'	) ||
	(	skill == 'seizon'	) ||
	(	skill == 'jiga'		) ||
	(	skill == 'teate'	) ||
	(	skill == 'saiku'	) ||
	(	skill == 'kouun'	)
	){ 
		if(lgDebug) console.log("cost = 0");
		return 0;
	};

	let cost = 0;
	if (lvl == 0) cost = 0;
	if (lvl == 1) cost = 1;
	if (lvl == 2) cost = 5;
	if (lvl == 3) cost = 15;
	
	//check for EX Skills
	if(
	( skill == 'reikan'		) ||
	( skill == 'sosei' 		) ||
	( skill == 'ougi' 		) ||
	( skill == 'shageki' 	) ||
	( skill == 'ougi' 		) ||
	){
		cost *= 2;
	};

	if(lgDebug) console.log(`cost(${lvl},${skill}) : ${cost}`);

	return cost;
}


// set judgement value according to level + ability
const setAllJudgement = (abilityName) => {
	if(lgDebug) console.log(`setAllJudgement(${abilityName})`);

	//obtain all judgement ability references 
	getAttrs( listAttrsJudgeref, (values) => {
		if(lgDebug) console.log(JSON.parse(JSON.stringify(values)));

		//iterate on skills and recalculate matching ones
		listNonrepSkills.forEach( (skill) => {
			let ref = `level-${skill}-abiref`;
			if(lgDebug) console.log(`ref: ${ref} `);
			if(lgDebug) console.log(`abilityName: ${abilityName}`);
			if(values[ref] == `ability-${abilityName}` ) {
				setSingleJudgement(skill);
			};
		}); //forEach
	}); //getAttrs
	
	//update judgement value for repeating skills 
	listRepeatingSkills.forEach( (skill) => {
		TAS.repeating(`skill-${skill}`)
			.attrs(listAttrsAbilities)
			.fields(`level-${skill}`,`level-${skill}-abiref`,`judge-${skill}`, )
			.each(function(row,attrSet,id,rowSet){
				if(lgDebug) console.log(`in TAS-each(${id}), check row:`);
				if(lgDebug) console.log(JSON.parse(JSON.stringify(row)));
				
				let abiref = row[`level-${skill}-abiref`];
				let lvl = parseInt(row[`level-${skill}`]) || 0;
				let abi = parseInt(attrSet[abiref]) || 0;
				row[`judge-${skill}`] =  lvl + abi ;
			},function(rowSet,attrSet){
				if(lgDebug) console.log('TAS final call params: attrSet, rowSet');
				if(lgDebug) console.log(JSON.parse(JSON.stringify(attrSet)));
				if(lgDebug) console.log(JSON.parse(JSON.stringify(rowSet)));
			})
			.execute();
			//TAS done
	});

};

// set judgement value according to level + ability for one skill
const setSingleJudgement = (skill) => {
	if(lgDebug) console.log('setSingleJudgement');

	let attrToGet = [`level-${skill}`,`level-${skill}-abiref`].concat(listAttrsAbilities);
	if(lgDebug) console.log(`attrToGet: ${attrToGet}`);

	getAttrs(attrToGet, (values) => {
		if(lgDebug) console.log(JSON.parse(JSON.stringify(values)));

		let lvl = parseInt(values[`level-${skill}`]) || 0 ;
		let abi = parseInt(values[ values[`level-${skill}-abiref`] ]) || 0 ;
		let result = lvl + abi;
		let obj= {};
		obj[`judge-${skill}`] = result;

		if(lgDebug) console.log(JSON.parse(JSON.stringify(obj)));

		setAttrs(obj);
	});
};

// Update skill point left after any changes in level, or ability references
const updateSkillPointLeft = () => {
	if(lgDebug) console.log('updateSkillPointLeft()');

	let attrToGet = [`skill-add-point`].concat(listAttrsLevel);

	getAttrs(attrToGet, (values) => {
		if(lgDebug) console.log(`attrToGet: ${attrToGet}`);
		if(lgDebug) console.log(JSON.parse(JSON.stringify(values)));

		//initially 30 + adjustments
		let sum = 30 + (parseInt(values['skill-add-point']) || 0) ; 
		listNonrepSkills.forEach( (skill)=> {
			let lvl = values[`level-${skill}`];
			//check with skill cost table elsewhere
			sum -= skillCost(lvl, skill);
		});
		if(lgDebug) console.log(`NonR sum = ${sum}`);

		//Repeating Skills cost sum
		listRepeatingSkills.forEach( (skill) => {
			TAS.repeating(`skill-${skill}`)
				.fields(`level-${skill}` )
				.reduce(function(memo,row,attrSet,id,rowSet){
					if(lgDebug) console.log('in updateSkillP('+skill+')::TAS reduce, id: '+id+', memo:'+memo+', row:');
					if(lgDebug) console.log(JSON.parse(JSON.stringify(row)));
					lvl = row[`level-${skill}`]; 
					memo += skillCost(lvl,skill) ;
					return memo;

				}, 0 , function(memo,rowSet,attrSet){
					if(lgDebug) console.log('in updateSkillP('+skill+')::TAS Final. sum: '+sum+', memo: '+memo);

					sum -= memo;
					let obj = {};
					obj['skill-point-left'] = sum;
					if(lgDebug) console.log(JSON.parse(JSON.stringify(obj)));

					setAttrs( obj );

				})
				.execute();
			if(lgDebug) console.log(`Total sum = ${sum}`);
		}); //Repeating skills forEach
	});
};

/** CREATE ROLL STRINGS **/

//Set Roll Strings for singletons
const setNonrepRollStr = (skill) => {
	attrToGet = [`level-${skill}`,`skillname-${skill}`];
	getAttrs(attrToGet, (values) => {
		if(lgDebug) console.log(`attrToGet: ${attrToGet}`);
		if(lgDebug) console.log(JSON.parse(JSON.stringify(values)));

		let level = values[`level-${skil}`];
		let skillname = values[`skillname-${skill}`];
		let obj={};
		obj[`attr_rollstr-${skill}`] = `&{template=emoklore} {{ Title=${skillname} }} {{ Rolls = `;
		for(let i=1; i<level+1; i++) {
			obj[`attr_rollstr-${skill}`] += ` [[d10]] `; 
		};
		obj[`attr_rollstr-${skill}`] = `}} `;
		setAttrs(obj);
		if(lgDebug) console.log(JSON.parse(JSON.stringify(obj)));
	};

};

//Set Roll strings For repeatings 
const setRepeatingRollStr = (skill) => {
	TAS.repeating(`skill-${skill}`)
		.fields(`level-${skill}`,`skillname-${skill}` )
		.each(function(row,attrSet,id,rowSet){
			if(lgDebug) console.log(`in TAS-each(${id}), check row:`);
			if(lgDebug) console.log(JSON.parse(JSON.stringify(row)));

			let level = row[`level-${skil}`];
			let skillname = row[`skillname-${skill}`];
			row[`attr_rollstr-${skill}`] = `&{template=emoklore} {{ Title=${skillname} }} {{ Rolls = `;
			for(let i=1; i<level+1; i++) {
				row[`attr_rollstr-${skill}`] += ` [[d10]] `; 
			};
			row[`attr_rollstr-${skill}`] = `}} `;
			
		},function(rowSet,attrSet){
			if(lgDebug) console.log('TAS final call params: attrSet, rowSet');
			if(lgDebug) console.log(JSON.parse(JSON.stringify(attrSet)));
			if(lgDebug) console.log(JSON.parse(JSON.stringify(rowSet)));
		})
		.execute();
		//TAS done		
};


/*RESPOND TO SHEET OPEN */
on(`sheet:opened`, () => {

	//Set Initial ROLL STRINGS
	listNonrepSkills.forEach( (skill) => { setNonrepRollStr(skill); });
	listRepeatingSkills.forEach( (skill) => { setRepeatingRollStr(skill); });
	});


/*RESPOND TO CHANGES IN ABILITIES PAGE */

on(`change:ability-add-point`, () => { calcAbilityPointLeft(); });

on(`change:ability-shintai`, () => {
	calcAbilityPointLeft();
	summingArgs( "hp_max", 10, "+", "ability-shintai");
	summingArgs( "hp", 10, "+", "ability-shintai");
	setAllJudgement('shintai');
	});

on(`change:ability-kiyou`, () => {
	calcAbilityPointLeft();
	setAllJudgement('kiyou');
	});

on(`change:ability-seishin`, () => {
	calcAbilityPointLeft();
	summingArgs( "mp_max", 	0 , "+", "ability-seishin", "+", "ability-chiryoku" );
	summingArgs( "mp", 	0 , "+", "ability-seishin", "+", "ability-chiryoku" );
	setAllJudgement('seishin');
	});

on(`change:ability-gokan`, () => {
	calcAbilityPointLeft();
	setAllJudgement('gokan');
	});

on(`change:ability-chiryoku`, () => {
	calcAbilityPointLeft();
	summingArgs( "mp_max", 	0 , "+", "ability-seishin", "+", "ability-chiryoku" );
	summingArgs( "mp", 	0 , "+", "ability-seishin", "+", "ability-chiryoku" );
	setAllJudgement('chiryoku');
	});

on(`change:ability-miryoku`, () => {
	calcAbilityPointLeft();
	setAllJudgement('miryoku');
	});

on(`change:ability-shakai`, () => {
	calcAbilityPointLeft();
	setAllJudgement('shakai');
	});

on(`change:ability-unsei`, () => {
	setAllJudgement('unsei');
	});

on(`clicked:roll-unsei`, () => {
	//abilityunsei = 1d6;
	let keberuntungan = Math.floor(Math.random() * 6 ) + 1;
	summingArgs("ability-unsei", keberuntungan );

	});


/*RESPOND TO CHANGES IN SKILLS PAGE */

on(`change:skill-add-point`, () => { updateSkillPointLeft(); });

listNonrepSkills.forEach( (skill) => {

	//change of skill level
	on(`change:level-${skill}`, () => {
		updateSkillPointLeft();
		setSingleJudgement(skill);
		setNonrepRollStr(skill);
		});

	//change of ability reference
	on(`change:level-${skill}-abiref`, () => {
		setSingleJudgement(skill);
		});
	});

/* what needs to be done for repeating skills? 
	1. Update 'skill-point-left' on:change of `level-${skill}`
	2. Update each 'judge-${skill}' on change of `level-${skill}`
	3. Update each 'judge-${skill}' on change of `level-${skill}-abiref`
*/


listRepeatingSkills.forEach( (skill) => {

	on(`change:repeating_skill-${skill}`, (eventInfo) => {
		if(lgDebug) console.log(`changed: ${skill}, check eventInfo:`);
		if(lgDebug) console.log(JSON.parse(JSON.stringify(eventInfo)));

        //update judgement value for repeating skills 
		TAS.repeating(`skill-${skill}`)
			.attrs(listAttrsAbilities)
			.fields(`level-${skill}`,`level-${skill}-abiref`,`judge-${skill}`, )
			.each(function(row,attrSet,id,rowSet){
				if(lgDebug) console.log(`in TAS-each(${id}), check row:`);
				if(lgDebug) console.log(JSON.parse(JSON.stringify(row)));
				
				let abiref = row[`level-${skill}-abiref`];
				let lvl = parseInt(row[`level-${skill}`]) || 0;
				let abi = parseInt(attrSet[abiref]) || 0;
				row[`judge-${skill}`] =  lvl + abi ;
			},function(rowSet,attrSet){
				if(lgDebug) console.log('TAS final call params: attrSet, rowSet');
				if(lgDebug) console.log(JSON.parse(JSON.stringify(attrSet)));
				if(lgDebug) console.log(JSON.parse(JSON.stringify(rowSet)));
			})
			.execute();
			//TAS done		
		setRepeatingRollStr(skill);
		updateSkillPointLeft();
		});
	});

/*RESPOND TO ROLL BUTTONS IN SKILLS PAGE */

listNonrepSkills.forEach( (skill) => {

	on(`clicked:${skill}`, () => {
		let attrsToGet = [`rollstr-${skill}`, `judge-${skil}` ];
		getAttrs(attrsToGet, (values) => {
			rollstr = values[`rollstr-${skill}`];
			startRoll(rollstr, (results) => {
				// EXAMPLE
				//	const total = results.results.roll1.result
				//	const computed = total % 4;
					
				let success = 0;
				results.results.Rolls.dice.forEach( (dice) => {
					if( dice < values[`judge-${skill}`] ) { success += 1; continue; };
					if( dice == 1) { success -= 1; };
					if( dice == 10) { success += 1; };
				};
				let comp['Success'] = success;
				finishRoll( results.rollId, comp );
			});


	}


};

listRepeatingSkills.forEach( (skill) => {

};

</script>
